language ESSENCE' 1.0

given n_cars: int(1..)
given n_classes: int(1..)
given n_options: int(1..)
given n_upperBound: int(1..)
given quantity_AsReln_RelationAsSet_ExplicitVarSize_tuple1:
        matrix indexed by [int(1..n_classes * n_upperBound)] of bool
given quantity_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple1:
        matrix indexed by [int(1..n_classes * n_upperBound)] of int(1..n_classes)
given quantity_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple2:
        matrix indexed by [int(1..n_classes * n_upperBound)] of int(1..n_upperBound)
given maxcars_AsReln_RelationAsSet_ExplicitVarSize_tuple1:
        matrix indexed by [int(1..n_options * n_upperBound)] of bool
given maxcars_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple1:
        matrix indexed by [int(1..n_options * n_upperBound)] of int(1..n_options)
given maxcars_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple2:
        matrix indexed by [int(1..n_options * n_upperBound)] of int(1..n_upperBound)
given blksize_AsReln_RelationAsSet_ExplicitVarSize_tuple1:
        matrix indexed by [int(1..n_options * n_upperBound)] of bool
given blksize_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple1:
        matrix indexed by [int(1..n_options * n_upperBound)] of int(1..n_options)
given blksize_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple2:
        matrix indexed by [int(1..n_options * n_upperBound)] of int(1..n_upperBound)
given usage_RelationAsSet_ExplicitVarSize_tuple1:
        matrix indexed by [int(1..n_classes * n_options)] of bool
given usage_RelationAsSet_ExplicitVarSize_tuple2_tuple1:
        matrix indexed by [int(1..n_classes * n_options)] of int(1..n_classes)
given usage_RelationAsSet_ExplicitVarSize_tuple2_tuple2:
        matrix indexed by [int(1..n_classes * n_options)] of int(1..n_options)
find car_Matrix1D: matrix indexed by [int(1..n_cars)] of int(1..n_classes)
such that
    forAll c : int(1..n_classes)
        . (sum v__0 : int(1..n_cars) . (car_Matrix1D[v__0] = c) * 1)
          =
          (sum v__0 : int(1..n_classes * n_upperBound)
               . (quantity_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple1[v__0] = c
                  /\
                  quantity_AsReln_RelationAsSet_ExplicitVarSize_tuple1[v__0])
                 *
                 quantity_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple2[v__0]),
    forAll opt : int(1..n_options)
        . (forAll s : int(1..n_cars + 1
                             -
                             (sum v__0 : int(1..n_options * n_upperBound)
                                  . (blksize_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple1[v__0] = opt
                                     /\
                                     blksize_AsReln_RelationAsSet_ExplicitVarSize_tuple1[v__0])
                                    *
                                    blksize_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple2[v__0]))
               . (sum i : int(s..s
                                 +
                                 (sum v__0 : int(1..n_options * n_upperBound)
                                      . (blksize_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple1[v__0] = opt
                                         /\
                                         blksize_AsReln_RelationAsSet_ExplicitVarSize_tuple1[v__0])
                                        *
                                        blksize_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple2[v__0])
                                 -
                                 1)
                      . (exists v__0 : int(1..n_classes * n_options)
                             . usage_RelationAsSet_ExplicitVarSize_tuple1[v__0]
                               /\
                               (usage_RelationAsSet_ExplicitVarSize_tuple2_tuple1[v__0] = car_Matrix1D[i]
                                /\
                                usage_RelationAsSet_ExplicitVarSize_tuple2_tuple2[v__0] = opt)))
                 <=
                 (sum v__0 : int(1..n_options * n_upperBound)
                      . (maxcars_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple1[v__0] = opt
                         /\
                         maxcars_AsReln_RelationAsSet_ExplicitVarSize_tuple1[v__0])
                        *
                        maxcars_AsReln_RelationAsSet_ExplicitVarSize_tuple2_tuple2[v__0]))
