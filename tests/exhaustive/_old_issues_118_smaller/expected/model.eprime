language ESSENCE' 1.0

find p_PartitionAsSet_ExplicitVarSizeWithMarker_Marker: int(0..8)
find p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence:
        matrix indexed by [int(1..8), int(1..3)] of bool
such that
    and([q12 <= p_PartitionAsSet_ExplicitVarSizeWithMarker_Marker ->
         or([[p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q12, 1],
              p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q12, 2],
              p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q12,
                                                                           3]; int(1..3)][q15]
             /\
             and([p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q12, q24] ->
                  [1 = q24, 2 = q24, 3 = q24; int(1..3)][q15]
                      | q24 : int(1..3)])
                 | q15 : int(1..3)])
             | q12 : int(1..8)]),
    and([or([q38 <= p_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
             (and([p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q38, q39] ->
                   [1 = q39, 2 = q39, 3 = q39; int(1..3)][q35]
                       | q39 : int(1..3)])
              /\
              [p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q38, 1],
               p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q38, 2],
               p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q38,
                                                                            3]; int(1..3)][q35])
                 | q38 : int(1..8)])
             | q35 : int(1..3)]),
    and([1 =
         sum([q8 <= p_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
              p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q8, q1]
                  | q8 : int(1..8)])
             | q1 : int(1..3)]),
    and([q9 <= p_PartitionAsSet_ExplicitVarSizeWithMarker_Marker ->
         sum([p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q9, q56]
                  | q56 : int(1..3)])
         >= 1
             | q9 : int(1..8)]),
    and([q4 + 1 <= p_PartitionAsSet_ExplicitVarSizeWithMarker_Marker ->
         p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q4, ..] <lex
         p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q4 + 1, ..]
             | q4 : int(1..7)]),
    and([q5 > p_PartitionAsSet_ExplicitVarSizeWithMarker_Marker ->
         and([p_PartitionAsSet_ExplicitVarSizeWithMarker_Values_Occurrence[q5, q57] =
              false
                  | q57 : int(1..3)])
             | q5 : int(1..8)])

