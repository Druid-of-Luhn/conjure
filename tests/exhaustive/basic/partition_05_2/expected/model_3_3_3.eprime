language ESSENCE' 1.0

find x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker: int(0..16)
find x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker:
        matrix indexed by [int(1..16)] of int(0..4)
find x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values:
        matrix indexed by [int(1..16), int(1..4)] of int(1..4)
such that
    and([and([q23 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker,
              or([q25 <=
                  x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q23]
                  /\
                  x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q23,
                                                                                                     q25]
                  = 2 | q25 : int(1..4)]),
              q26 <=
              x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q23]; int(1..3)])
         ->
         2 =
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q23,
                                                                                            q26]
         \/
         4 =
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q23,
                                                                                            q26]
             | q23 : int(1..16), q26 : int(1..4)]),
    or([q33 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
        q34 <=
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q33]
        /\
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q33,
                                                                                           q34]
        = 2 | q33 : int(1..16), q34 : int(1..4)]),
    or([and([q41 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker,
             or([q43 <=
                 x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q41]
                 /\
                 x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q41,
                                                                                                    q43]
                 = 2 | q43 : int(1..4)]),
             q44 <=
             x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q41]; int(1..3)])
        /\
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q41,
                                                                                           q44]
        = 2 | q41 : int(1..16), q44 : int(1..4)]),
    or([q49 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
        q50 <=
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q49]
        /\
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q49,
                                                                                           q50]
        = 2 | q49 : int(1..16), q50 : int(1..4)]),
    or([and([q55 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker,
             or([q57 <=
                 x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q55]
                 /\
                 x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q55,
                                                                                                    q57]
                 = 2 | q57 : int(1..4)]),
             q58 <=
             x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q55]; int(1..3)])
        /\
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q55,
                                                                                           q58]
        = 4 | q55 : int(1..16), q58 : int(1..4)]),
    or([q63 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
        q64 <=
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q63]
        /\
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q63,
                                                                                           q64]
        = 2 | q63 : int(1..16), q64 : int(1..4)]),
    and([q69 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
         q70 <=
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q69]
         ->
         or([1 =
             x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q69,
                                                                                                q70],
             2 =
             x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q69,
                                                                                                q70],
             3 =
             x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q69,
                                                                                                q70],
             4 =
             x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q69,
                                                                                                q70]; int(1..4)])
             | q69 : int(1..16), q70 : int(1..4)]),
    or([q79 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
        q80 <=
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q79]
        /\
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q79,
                                                                                           q80]
        = 1 | q79 : int(1..16), q80 : int(1..4)]),
    or([q85 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
        q86 <=
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q85]
        /\
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q85,
                                                                                           q86]
        = 2 | q85 : int(1..16), q86 : int(1..4)]),
    or([q91 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
        q92 <=
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q91]
        /\
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q91,
                                                                                           q92]
        = 3 | q91 : int(1..16), q92 : int(1..4)]),
    or([q97 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
        q98 <=
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q97]
        /\
        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q97,
                                                                                           q98]
        = 4 | q97 : int(1..16), q98 : int(1..4)]),
    and([1 =
         sum([toInt(q13 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
                    or([q15 <=
                        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q13]
                        /\
                        x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q13,
                                                                                                           q15]
                        = q1
                            | q15 : int(1..4)]))
                  | q13 : int(1..16)])
             | q1 : int(1..4)]),
    and([q16 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker /\
         q17 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker
         ->
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q16]
         =
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q17]
             | q16 : int(1..16), q17 : int(1..16)]),
    and([q18 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker ->
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q18]
         >= 1
             | q18 : int(1..16)]),
    and([q6 + 1 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker ->
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q6]
         <
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q6
                                                                                            + 1]
         \/
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q6]
         =
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q6
                                                                                            + 1]
         /\
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q6,
                                                                                            ..]
         <lex
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q6
                                                                                            + 1,
                                                                                            ..]
             | q6 : int(1..15)]),
    and([q7 > x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker ->
         x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q7]
         = 0
         /\
         and([x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q7,
                                                                                                 q12]
              = 1 | q12 : int(1..4)])
             | q7 : int(1..16)]),
    and([q8 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker ->
         and([q9 + 1 <=
              x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q8]
              ->
              x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q8,
                                                                                                 q9]
              <
              x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q8,
                                                                                                 q9 + 1]
                  | q9 : int(1..3)])
             | q8 : int(1..16)]),
    and([q8 <= x_PartitionAsSet_ExplicitVarSizeWithMarker_Marker ->
         and([q10 >
              x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Marker[q8]
              ->
              x_PartitionAsSet_ExplicitVarSizeWithMarker_Values_ExplicitVarSizeWithMarker_Values[q8,
                                                                                                 q10]
              = 1 | q10 : int(1..4)])
             | q8 : int(1..16)])

