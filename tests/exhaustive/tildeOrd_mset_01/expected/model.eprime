language ESSENCE' 1.0

find a_ExplicitVarSizeWithFlags_Flags:
        matrix indexed by [int(1..3)] of int(0..3)
find a_ExplicitVarSizeWithFlags_Values:
        matrix indexed by [int(1..3)] of int(1..2)
find b_ExplicitVarSizeWithFlags_Flags:
        matrix indexed by [int(1..3)] of int(0..3)
find b_ExplicitVarSizeWithFlags_Values:
        matrix indexed by [int(1..3)] of int(1..2)
such that
    or([a_ExplicitVarSizeWithFlags_Flags[q19] > 0 /\
        (sum([toInt(a_ExplicitVarSizeWithFlags_Values[q15] =
                    a_ExplicitVarSizeWithFlags_Values[q19])
              * a_ExplicitVarSizeWithFlags_Flags[q15]
                  | q15 : int(1..3)])
         <
         sum([toInt(b_ExplicitVarSizeWithFlags_Values[q16] =
                    a_ExplicitVarSizeWithFlags_Values[q19])
              * b_ExplicitVarSizeWithFlags_Flags[q16]
                  | q16 : int(1..3)])
         /\
         (and([a_ExplicitVarSizeWithFlags_Flags[q21] > 0 /\
               a_ExplicitVarSizeWithFlags_Values[q21] < a_ExplicitVarSizeWithFlags_Values[q19]
               ->
               sum([toInt(a_ExplicitVarSizeWithFlags_Values[q17] =
                          a_ExplicitVarSizeWithFlags_Values[q21])
                    * a_ExplicitVarSizeWithFlags_Flags[q17]
                        | q17 : int(1..3)])
               =
               sum([toInt(b_ExplicitVarSizeWithFlags_Values[q18] =
                          a_ExplicitVarSizeWithFlags_Values[q21])
                    * b_ExplicitVarSizeWithFlags_Flags[q18]
                        | q18 : int(1..3)])
                   | q21 : int(1..3)])
          /\
          and([and([b_ExplicitVarSizeWithFlags_Flags[q22] > 0,
                    !or([a_ExplicitVarSizeWithFlags_Flags[q24] > 0 /\
                         a_ExplicitVarSizeWithFlags_Values[q24] = b_ExplicitVarSizeWithFlags_Values[q22]
                             | q24 : int(1..3)]),
                    b_ExplicitVarSizeWithFlags_Values[q22] <
                    a_ExplicitVarSizeWithFlags_Values[q19]; int(1..3)])
               ->
               sum([toInt(a_ExplicitVarSizeWithFlags_Values[q17] =
                          b_ExplicitVarSizeWithFlags_Values[q22])
                    * a_ExplicitVarSizeWithFlags_Flags[q17]
                        | q17 : int(1..3)])
               =
               sum([toInt(b_ExplicitVarSizeWithFlags_Values[q18] =
                          b_ExplicitVarSizeWithFlags_Values[q22])
                    * b_ExplicitVarSizeWithFlags_Flags[q18]
                        | q18 : int(1..3)])
                   | q22 : int(1..3)])))
            | q19 : int(1..3)])
    \/
    or([b_ExplicitVarSizeWithFlags_Flags[q20] > 0 /\
        !or([a_ExplicitVarSizeWithFlags_Flags[q30] > 0 /\
             a_ExplicitVarSizeWithFlags_Values[q30] = b_ExplicitVarSizeWithFlags_Values[q20]
                 | q30 : int(1..3)])
        /\
        (sum([toInt(a_ExplicitVarSizeWithFlags_Values[q15] =
                    b_ExplicitVarSizeWithFlags_Values[q20])
              * a_ExplicitVarSizeWithFlags_Flags[q15]
                  | q15 : int(1..3)])
         <
         sum([toInt(b_ExplicitVarSizeWithFlags_Values[q16] =
                    b_ExplicitVarSizeWithFlags_Values[q20])
              * b_ExplicitVarSizeWithFlags_Flags[q16]
                  | q16 : int(1..3)])
         /\
         (and([a_ExplicitVarSizeWithFlags_Flags[q25] > 0 /\
               a_ExplicitVarSizeWithFlags_Values[q25] < b_ExplicitVarSizeWithFlags_Values[q20]
               ->
               sum([toInt(a_ExplicitVarSizeWithFlags_Values[q17] =
                          a_ExplicitVarSizeWithFlags_Values[q25])
                    * a_ExplicitVarSizeWithFlags_Flags[q17]
                        | q17 : int(1..3)])
               =
               sum([toInt(b_ExplicitVarSizeWithFlags_Values[q18] =
                          a_ExplicitVarSizeWithFlags_Values[q25])
                    * b_ExplicitVarSizeWithFlags_Flags[q18]
                        | q18 : int(1..3)])
                   | q25 : int(1..3)])
          /\
          and([and([b_ExplicitVarSizeWithFlags_Flags[q26] > 0,
                    !or([a_ExplicitVarSizeWithFlags_Flags[q28] > 0 /\
                         a_ExplicitVarSizeWithFlags_Values[q28] = b_ExplicitVarSizeWithFlags_Values[q26]
                             | q28 : int(1..3)]),
                    b_ExplicitVarSizeWithFlags_Values[q26] <
                    b_ExplicitVarSizeWithFlags_Values[q20]; int(1..3)])
               ->
               sum([toInt(a_ExplicitVarSizeWithFlags_Values[q17] =
                          b_ExplicitVarSizeWithFlags_Values[q26])
                    * a_ExplicitVarSizeWithFlags_Flags[q17]
                        | q17 : int(1..3)])
               =
               sum([toInt(b_ExplicitVarSizeWithFlags_Values[q18] =
                          b_ExplicitVarSizeWithFlags_Values[q26])
                    * b_ExplicitVarSizeWithFlags_Flags[q18]
                        | q18 : int(1..3)])
                   | q26 : int(1..3)])))
            | q20 : int(1..3)]),
    and([a_ExplicitVarSizeWithFlags_Flags[q1 + 1] > 0 ->
         a_ExplicitVarSizeWithFlags_Values[q1] <
         a_ExplicitVarSizeWithFlags_Values[q1 + 1]
             | q1 : int(1..2)]),
    and([a_ExplicitVarSizeWithFlags_Flags[q2] = 0 ->
         a_ExplicitVarSizeWithFlags_Values[q2] = 1
             | q2 : int(1..3)]),
    and([a_ExplicitVarSizeWithFlags_Flags[q3 + 1] > 0 ->
         a_ExplicitVarSizeWithFlags_Flags[q3] > 0
             | q3 : int(1..2)]),
    3 = sum([a_ExplicitVarSizeWithFlags_Flags[q5] | q5 : int(1..3)]),
    and([b_ExplicitVarSizeWithFlags_Flags[q7 + 1] > 0 ->
         b_ExplicitVarSizeWithFlags_Values[q7] <
         b_ExplicitVarSizeWithFlags_Values[q7 + 1]
             | q7 : int(1..2)]),
    and([b_ExplicitVarSizeWithFlags_Flags[q8] = 0 ->
         b_ExplicitVarSizeWithFlags_Values[q8] = 1
             | q8 : int(1..3)]),
    and([b_ExplicitVarSizeWithFlags_Flags[q9 + 1] > 0 ->
         b_ExplicitVarSizeWithFlags_Flags[q9] > 0
             | q9 : int(1..2)]),
    3 = sum([b_ExplicitVarSizeWithFlags_Flags[q11] | q11 : int(1..3)])

