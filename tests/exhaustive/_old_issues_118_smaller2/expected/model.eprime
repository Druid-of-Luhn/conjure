language ESSENCE' 1.0

find p_PartitionAsSet_Explicit_Explicit: matrix indexed by [int(1..3), int(1..1)] of int(1..5)
such that
    and([or([and([[p_PartitionAsSet_Explicit_Explicit[q2, 1] = 1; int(1..1)], [p_PartitionAsSet_Explicit_Explicit[q2, 1] = 2; int(1..1)],
                  [p_PartitionAsSet_Explicit_Explicit[q2, 1] = 3; int(1..1)]; int(1..3)][q4, ..])
             /\
             or([[1 = p_PartitionAsSet_Explicit_Explicit[q2, 1]; int(1..1)], [2 = p_PartitionAsSet_Explicit_Explicit[q2, 1]; int(1..1)],
                 [3 = p_PartitionAsSet_Explicit_Explicit[q2, 1]; int(1..1)]; int(1..3)][q4, ..])
                 | q4 : int(1..3)])
             | q2 : int(1..3)]),
    and([or([or([[1 = p_PartitionAsSet_Explicit_Explicit[q16, 1]; int(1..1)], [2 = p_PartitionAsSet_Explicit_Explicit[q16, 1]; int(1..1)],
                 [3 = p_PartitionAsSet_Explicit_Explicit[q16, 1]; int(1..1)]; int(1..3)][q5, ..])
             /\
             and([[p_PartitionAsSet_Explicit_Explicit[q16, 1] = 1; int(1..1)], [p_PartitionAsSet_Explicit_Explicit[q16, 1] = 2; int(1..1)],
                  [p_PartitionAsSet_Explicit_Explicit[q16, 1] = 3; int(1..1)]; int(1..3)][q5, ..])
                 | q16 : int(1..3)])
             | q5 : int(1..3)]),
    and([1 >= sum([p_PartitionAsSet_Explicit_Explicit[q3, 1] = q1 | q3 : int(1..3)]) | q1 : int(1..5)]),
    and([p_PartitionAsSet_Explicit_Explicit[q1, ..] <lex p_PartitionAsSet_Explicit_Explicit[q1 + 1, ..] | q1 : int(1..2)])

