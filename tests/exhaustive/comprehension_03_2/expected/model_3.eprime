language ESSENCE' 1.0

find x: int(0..1000)
find y: int(7, 8)
such that
    x =
    sum([or([i_ExplicitVarSizeWithFlags_Values[q3] = y
                 | q3 : int(1..2), i_ExplicitVarSizeWithFlags_Flags[q3]])
             | i_ExplicitVarSizeWithFlags_Flags : matrix indexed by [int(1..2)] of bool,
               i_ExplicitVarSizeWithFlags_Values : matrix indexed by [int(1..2)] of int(7..9),
               i_ExplicitVarSizeWithFlags_Flags[2] ->
               i_ExplicitVarSizeWithFlags_Values[1] < i_ExplicitVarSizeWithFlags_Values[2],
               and([i_ExplicitVarSizeWithFlags_Flags[q1] = false ->
                    i_ExplicitVarSizeWithFlags_Values[q1] = 7
                        | q1 : int(1..2)]),
               i_ExplicitVarSizeWithFlags_Flags[2] -> i_ExplicitVarSizeWithFlags_Flags[1],
               1 <= sum([i_ExplicitVarSizeWithFlags_Flags[q1] | q1 : int(1..2)]),
               sum([i_ExplicitVarSizeWithFlags_Flags[q1] | q1 : int(1..2)]) <= 2])

