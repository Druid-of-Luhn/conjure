language ESSENCE' 1.0

find a_Occurrence: matrix indexed by [int(1..4)] of bool
find a_Explicit: matrix indexed by [int(1..3)] of int(1..4)
find b_Explicit: matrix indexed by [int(1..3)] of int(1..4)
find b_Occurrence: matrix indexed by [int(1..4)] of bool
such that
    or(flatten([a_Occurrence[q17] /\
                (a_Occurrence[q17] < or([b_Explicit[q21] = q17 | q21 : int(1..3)]) /\
                 (and(flatten([a_Occurrence[q18] ->
                               a_Occurrence[q18] = or([b_Explicit[q24] = q18 | q24 : int(1..3)])
                                   | q18 : int(1..4), q18 > q17]))
                  /\
                  and(flatten([!or([a_Occurrence[q27] /\ q27 = b_Explicit[q22] | q27 : int(1..4)])
                               /\ b_Explicit[q22] > q17
                               ->
                               a_Occurrence[b_Explicit[q22]] =
                               or([b_Explicit[q26] = b_Explicit[q22] | q26 : int(1..3)])
                                   | q22 : int(1..3)]))))
                    | q17 : int(1..4)]))
    \/
    or(flatten([!or([a_Occurrence[q36] /\ q36 = b_Explicit[q19] | q36 : int(1..4)])
                /\
                (a_Occurrence[b_Explicit[q19]] <
                 or([b_Explicit[q29] = b_Explicit[q19] | q29 : int(1..3)])
                 /\
                 (and(flatten([a_Occurrence[q18] /\ q18 > b_Explicit[q19] ->
                               a_Occurrence[q18] = or([b_Explicit[q32] = q18 | q32 : int(1..3)])
                                   | q18 : int(1..4)]))
                  /\
                  and(flatten([!or([a_Occurrence[q35] /\ q35 = b_Explicit[q30] | q35 : int(1..4)])
                               /\ b_Explicit[q30] > b_Explicit[q19]
                               ->
                               a_Occurrence[b_Explicit[q30]] =
                               or([b_Explicit[q34] = b_Explicit[q30] | q34 : int(1..3)])
                                   | q30 : int(1..3)]))))
                    | q19 : int(1..3)])),
    3 = sum([a_Occurrence[q1] | q1 : int(1..4)]),
    and([b_Explicit[q2] < b_Explicit[q2 + 1] | q2 : int(1..2)]),
    and([a_Explicit[q4] < a_Explicit[q4 + 1] | q4 : int(1..2)]),
    and([a_Occurrence[a_Explicit[q8]] | q8 : int(1..3)]),
    and([a_Occurrence[q9] -> or([a_Explicit[q11] = q9 | q11 : int(1..3)])
             | q9 : int(1..4)]),
    3 = sum([b_Occurrence[q6] | q6 : int(1..4)]),
    and([b_Occurrence[q12] -> or([b_Explicit[q14] = q12 | q14 : int(1..3)])
             | q12 : int(1..4)]),
    and([b_Occurrence[b_Explicit[q16]] | q16 : int(1..3)])

