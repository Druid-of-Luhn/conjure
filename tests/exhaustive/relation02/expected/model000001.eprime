language ESSENCE' 1.0

find r_RelationAsMatrix: matrix indexed by [int(1..3), int(0..1)] of bool
given p_RelationAsMatrix: matrix indexed by [int(1..3), int(0..1)] of bool
such that
    and(flatten([[p_RelationAsMatrix[q2, q5] ->
                  or(flatten([[r_RelationAsMatrix[q3, q4] /\ q3 = q2 /\ q4 = q5 | q4 : int(0..1)] | q3 : int(1..3)])) | q5 : int(0..1)] | q2 : int(1..3)])),
    and(flatten([[r_RelationAsMatrix[q6, q9] ->
                  or(flatten([[p_RelationAsMatrix[q7, q8] /\ q7 = q6 /\ q8 = q9 | q8 : int(0..1)] | q7 : int(1..3)])) | q9 : int(0..1)] | q6 : int(1..3)]))

