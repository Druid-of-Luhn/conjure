language ESSENCE' 1.0

find r_RelationAsMatrix: matrix indexed by [int(1..3), bool] of bool
given p1: int
given p_RelationAsMatrix: matrix indexed by [int(1..3), bool] of bool
such that
    and([or([r_RelationAsMatrix[q4_1, q4_2] /\ (q4_1 = q2_1 /\ q4_2 = q2_2) | q4_1 : int(1..3), q4_2 : bool])
             | q2_1 : int(1..3), q2_2 : bool, p_RelationAsMatrix[q2_1, q2_2]]),
    and([r_RelationAsMatrix[q3_1, q3_2] -> or([q5_1 = q3_1 /\ q5_2 = q3_2 | q5_1 : int(1..3), q5_2 : bool, p_RelationAsMatrix[q5_1, q5_2]])
             | q3_1 : int(1..3), q3_2 : bool])

